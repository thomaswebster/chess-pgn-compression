from heapq import heappush, heappop, heapify

def get_code(frequencies):
    # concat = concat or _guess_concat(next(iter(frequencies)))

    # Heap consists of tuples: (frequency, [list of tuples: (symbol, (bitsize, value))])
    heap = [(f, [(s, (0, 0))]) for s, f in frequencies.items()]

    # Use heapq approach to build the encodings of the huffman tree leaves.
    heapify(heap)
    while len(heap) > 1:
        # Pop the 2 smallest items from heap
        a = heappop(heap)
        b = heappop(heap)
        # Merge nodes (update codes for each symbol appropriately)
        merged = (
            a[0] + b[0],
            [(s, (n + 1, v)) for (s, (n, v)) in a[1]]
            + [(s, (n + 1, (1 << n) + v)) for (s, (n, v)) in b[1]]
        )
        heappush(heap, merged)

    # Code table is dictionary mapping symbol to (bitsize, value)
    table = dict(heappop(heap)[1])

    return table

codes = [
        "00",
        "100",
        "1101",
        "1010",
        "0101",
        "11101",
        "10111",
        "01110",
        "01100",
        "01000",
        "111101",
        "111001",
        "111100",
        "110011",
        "110010",
        "110000",
        "101101",
        "101100",
        "011111",
        "011011",
        "010011",
        "011010",
        "1111111",
        "1111101",
        "1111110",
        "1111100",
        "1110000",
        "1100011",
        "0111101",
        "0100101",
        "0100100",
        "11100010",
        "11000101",
        "01111001",
        "111000111",
        "110001001",
        "011110001",
        "011110000",
        "1110001100",
        "1100010000",
        "11100011010",
        "11000100010",
        "111000110110",
        "110001000110",
        "1110001101110",
        "1100010001110",
        "11100011011110",
        "11000100011110",
        "111000110111110",
        "110001000111110",
        "1110001101111110",
        "1100010001111110",
        "11000100011111111",
        "111000110111111111",
        "111000110111111101",
        "110001000111111100",
        "1110001101111111100",
        "1100010001111111011",
        "11100011011111111011",
        "11100011011111110010",
        "11100011011111110000",
        "111000110111111110101",
        "111000110111111100110",
        "111000110111111100010",
        "110001000111111101001",
        "110001000111111101000",
        "1110001101111111101000",
        "1110001101111111000110",
        "1100010001111111010111",
        "1100010001111111010101",
        "11100011011111111010011",
        "11100011011111110011110",
        "11100011011111110001110",
        "11100011011111110001111",
        "11000100011111110101100",
        "111000110111111100111011",
        "111000110111111110100100",
        "111000110111111100111111",
        "111000110111111100111010",
        "110001000111111101011011",
        "110001000111111101010011",
        "110001000111111101010001",
        "1110001101111111001110011",
        "1110001101111111001110001",
        "1110001101111111001110010",
        "1100010001111111010100101",
        "1100010001111111010110100",
        "1100010001111111010100001",
        "11100011011111110011111011",
        "11100011011111110011111001",
        "11100011011111110011111010",
        "11100011011111110011111000",
        "11000100011111110101101011",
        "111000110111111110100101111",
        "110001000111111101011010100",
        "110001000111111101011010101",
        "111000110111111100111000010",
        "111000110111111100111000011",
        "110001000111111101010010011",
        "1110001101111111101001010011",
        "1100010001111111010100100101",
        "1110001101111111001110000011",
        "1110001101111111001110000010",
        "1110001101111111001110000000",
        "11100011011111110011100000010",
        "11000100011111110101000001001",
        "11100011011111110011100000011",
        "11000100011111110101000001000",
        "11000100011111110101000000011",
        "110001000111111101010000011110",
        "111000110111111110100101100110",
        "111000110111111110100101010111",
        "110001000111111101010000001101",
        "111000110111111110100101100010",
        "110001000111111101010000001000",
        "110001000111111101010000000101",
        "110001000111111101010000000000",
        "110001000111111101010000001010",
        "110001000111111101010010001101",
        "110001000111111101010010010011",
        "110001000111111101010010010010",
        "110001000111111101010010010001",
        "110001000111111101010010010000",
        "110001000111111101010010001011",
        "110001000111111101010010001010",
        "110001000111111101010010001001",
        "110001000111111101010010001000",
        "110001000111111101010010000111",
        "110001000111111101010010000110",
        "110001000111111101010010000011",
        "110001000111111101010010000010",
        "110001000111111101010000011011",
        "110001000111111101010000011010",
        "110001000111111101010000011001",
        "110001000111111101010000011000",
        "110001000111111101010000010101",
        "110001000111111101010000010100",
        "110001000111111101010010000101",
        "110001000111111101010010000100",
        "110001000111111101010000011111",
        "110001000111111101010000011101",
        "110001000111111101010000011100",
        "110001000111111101010010000001",
        "110001000111111101010010000000",
        "110001000111111101010000001111",
        "110001000111111101010000001110",
        "110001000111111101010000001100",
        "110001000111111101010000010111",
        "110001000111111101010000010110",
        "110001000111111101010000001001",
        "110001000111111101010000000100",
        "110001000111111101010000000011",
        "110001000111111101010000000010",
        "110001000111111101010000000001",
        "110001000111111101010000001011",
        "110001000111111101010010001111",
        "110001000111111101010010001110",
        "110001000111111101010010001100",
        "1110001101111111101001010111101",
        "1110001101111111101001010111111",
        "1110001101111111101001010100010",
        "1110001101111111101001011011111",
        "1110001101111111101001010100100",
        "1110001101111111101001010111001",
        "1110001101111111101001011011010",
        "1110001101111111101001011010010",
        "1110001101111111101001011010000",
        "1110001101111111101001010111010",
        "1110001101111111101001010001011",
        "1110001101111111101001010001010",
        "1110001101111111101001010001001",
        "1110001101111111101001010001000",
        "1110001101111111101001010000111",
        "1110001101111111101001010000110",
        "1110001101111111101001010000101",
        "1110001101111111101001010000100",
        "1110001101111111101001011010111",
        "1110001101111111101001011010110",
        "1110001101111111101001011010101",
        "1110001101111111101001011010100",
        "1110001101111111101001010110111",
        "1110001101111111101001010110110",
        "1110001101111111101001010010101",
        "1110001101111111101001010010100",
        "1110001101111111101001010110101",
        "1110001101111111101001010110100",
        "1110001101111111101001010010111",
        "1110001101111111101001010010110",
        "1110001101111111101001010110001",
        "1110001101111111101001010110000",
        "1110001101111111101001010010011",
        "1110001101111111101001010010010",
        "1110001101111111101001011101101",
        "1110001101111111101001011101100",
        "1110001101111111101001011101011",
        "1110001101111111101001011101010",
        "1110001101111111101001011100111",
        "1110001101111111101001011100110",
        "1110001101111111101001010010001",
        "1110001101111111101001010010000",
        "1110001101111111101001011100011",
        "1110001101111111101001011100010",
        "1110001101111111101001011100001",
        "1110001101111111101001011100000",
        "1110001101111111101001011101001",
        "1110001101111111101001011101000",
        "1110001101111111101001010001111",
        "1110001101111111101001010001110",
        "1110001101111111101001010000011",
        "1110001101111111101001010000010",
        "1110001101111111101001010001101",
        "1110001101111111101001010001100",
        "1110001101111111101001011001111",
        "1110001101111111101001011001110",
        "1110001101111111101001010000001",
        "1110001101111111101001010000000",
        "1110001101111111101001011011001",
        "1110001101111111101001011011000",
        "1110001101111111101001011100101",
        "1110001101111111101001011100100",
        "1110001101111111101001010101101",
        "1110001101111111101001010101100",
        "1110001101111111101001010110011",
        "1110001101111111101001010110010",
        "1110001101111111101001010101001",
        "1110001101111111101001010101000",
        "1110001101111111101001011101111",
        "1110001101111111101001011101110",
        "1110001101111111101001011001011",
        "1110001101111111101001011001010",
        "1110001101111111101001011000011",
        "1110001101111111101001011000010",
        "1110001101111111101001010101011",
        "1110001101111111101001010101010",
        "1110001101111111101001011001001",
        "1110001101111111101001011001000",
        "1110001101111111101001011000111",
        "1110001101111111101001011000110",
        "1110001101111111101001011000001",
        "1110001101111111101001011000000",
        "1110001101111111101001010111100",
        "1110001101111111101001010100111",
        "1110001101111111101001010100110",
        "1110001101111111101001010111110",
        "1110001101111111101001010100011",
        "1110001101111111101001010100001",
        "1110001101111111101001010100000",
        "1110001101111111101001011011110",
        "1110001101111111101001010100101",
        "1110001101111111101001011011101",
        "1110001101111111101001011011100",
        "1110001101111111101001010111000",
        "1110001101111111101001011011011",
        "1110001101111111101001011010001",
        "1110001101111111101001011010011",
        "1110001101111111101001010111011",
]
